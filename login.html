<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Login | SustainHire</title>
<link rel="icon" href="logo.jpg">
<style>
body { margin:0; background-color:#c8e6c9; font-family:Georgia, 'Times New Roman', Times, serif; display:flex; justify-content:center; align-items:center; height:100vh; }
h2{
  color:#2e7d32;
  margin-bottom:8px;
}
.card { background:white; padding:40px 50px; border-radius:20px; box-shadow:0 10px 25px #2e7d32; width:350px; text-align:center; }
input { width:100%; padding:12px; margin:10px 0; border-radius:8px; border:1px solid #aaa; outline:none; }
button { width:100%; padding:12px; background-color:#2e7d32; border:none; border-radius:30px; color:white; font-size:1rem; cursor:pointer; transition:0.3s; }
button:hover { background-color:#388e3c; }
</style>
</head>
<body>
<div class="card">
  <h2>User Login</h2>
  <input type="email" id="email" placeholder="Email" />
  <input type="password" id="password" placeholder="Password" />
  <button onclick="loginUser()">Login</button>
  <div style="margin-top:10px; font-size:0.9rem; cursor:pointer; color:#2e7d32;" onclick="goToSignup()">Don't have an account? Sign Up</div>
</div>
<script>
const BACKEND_URL = "https://sustainhire-backend1-re4i.onrender.com";

async function loginUser() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  
  const res = await fetch(`${BACKEND_URL}/api/auth/login`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, password })
  });

  const data = await res.json();
  
  if (res.ok) {
    alert(data.message);
    window.location.href = "logo.html"; // redirect on successful login
  } else {
    alert(data.message || "Invalid email or password");
  }
}

function goToSignup() {
  window.location.href = "signup.html";
}
</script>

